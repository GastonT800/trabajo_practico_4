<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
	<head data-th-replace="~{/layouts/header :: head}"></head>
	
	<body>
	    
	    <!-- Encabezado -->
		<header data-th-replace="~{/layouts/header :: header}" ></header>
		
		<div class="container">
			
		<!-- Barra de Navegacion-->
        <nav data-th-replace="~{/layouts/header :: navbar}"></nav>
        
        
        <!-- Tabla Alumnos por Carrera-->
        
        <div class="row">
			
			<div class="col col-sm-12 fondo-form p-5">
				
				<div class="row mb-5">
				
				    <div th:if="${carrera.nombre != null}">
				        <h2 th:text="'Alumnos de ' + ${carrera.nombre}"></h2>
				    </div>
				    <div th:if="${carrera.nombre == null}">
				        <h2>Alumnos por Materia</h2>
				    </div>
					<!-- Botón Agregar -->
					
					<div class="row">
			
					<div class="d-grid gap-2 d-md-flex justify-content-md-end mb-2">
						
						<form th:action="@{/carrera/alumnos}" method="post" class="input-group bg-primary-subtle text-primary-emphasis" role="search">
							  <select id="carrera" name="carrera" class="form-select flex-grow-1" th:field="*{carrera.codigo}">
							        <option th:each="carre : ${carreras}" th:value="${carre.codigo}" th:text="${carre.nombre}"></option>
							   </select>
							   <button class="btn btn-outline-success" type="submit">Buscar</button>
						</form>
						
					</div>	
					<div class="row mt-md-3">
					<div th:if="${alumnos != null && !alumnos.isEmpty()}">
				    <table class="table table-striped table-hover">
				        <thead>
				            <tr class="text-center">
				                <th scope="col">LU</th>
				                <th scope="col">Apellido</th>
				                <th scope="col">Nombre</th>
				                <th scope="col">DNI</th>
				                <th scope="col">Email</th>
				                <th scope="col">Teléfono</th>
				                <th scope="col">Fecha de Nacimiento</th>
				            </tr>
				        </thead>
				        <tbody class="table-group-divider">
				            <tr th:each="alumno : ${alumnos}">
				                <th class="text-center" scope="row" th:text="'FH-' + ${alumno.lu}"></th>
				                <td class="text-start" th:text="${alumno.apellido}"></td>
				                <td class="text-start" th:text="${alumno.nombre}"></td>
				                <td class="text-sm-center" th:text="${alumno.dni}"></td>
				                <td class="text-start" th:text="${alumno.email}"></td>
				                <td class="text-sm-center" th:text="${alumno.telefono}"></td>
				                <td class="text-sm-center" th:text="${alumno.fechaNacimiento}"></td>
				            </tr>
				        </tbody>
				    </table>
				</div>
				</div>
					</div>					
					
				</div>
				
			</div>
		</div>
			
		
        
	    <!-- Pie de Pagina -->
		<footer data-th-replace="~{/layouts/footer :: footer}" ></footer>
		
		</div>
		
		<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
		
	    
	</body>
</html>